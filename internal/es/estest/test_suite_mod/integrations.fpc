integration "slack" "my_slack_app" {
  token           = "xoxp-111111"

  # optional - if you want to verify the source
  signing_secret  = "Q#$$#@#$$#W"
}

integration "email" "email_integration_1" {

}

notifier "my_notifier" {
  description = "my notifier with 2 notifies"

  notify {
      integration = integration.http.default
      channel = "fake one"
      subject = "bar"
  }

  notify {
      integration = integration.http.default
      to = ["a", "b", "c"]
      channel = "foo"
  }
}

integration "slack" "my_other_slack_app" {
  token           = "xoxp-111111"

  # optional - if you want to verify the source
  signing_secret  = "Q#$$#@#$$#W"
}

notifier "slack_notify" {
  description = "slack notifer with some notifies"

  notify {
      integration = integration.slack.my_other_slack_app
      channel = "fake one"
      subject = "bar"
  }

  notify {
      integration = integration.email.email_integration_1
      to = ["billie", "bob", "joe"]
      cc = ["angus", "brian", "charlie", "dave"]
      bcc = ["eddie", "frank", "george", "harry"]
  }
}
